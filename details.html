<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="js/settings-loader.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/all.min.css" />
  <!--Link Font Awesome 6 Library-->
  <link rel="stylesheet" href="css/styles.css" />
  <!--Link Styles Sheet-->
  <link rel="stylesheet" href="css/normalize.css" />
  <!--Link Normalize-->
  <link rel="stylesheet" href="css/date-range-picker.css" />
  <!--Link Date Range Picker CSS-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <!--Link Font Awesome CDN-->

  <title>Website Title</title>
</head>

<body>
  <!-- Fix for any navigation buttons with hidden class -->
  <script>
    // This script runs immediately to ensure navigation buttons are visible
    document.addEventListener('DOMContentLoaded', function() {
      // Function to check and fix navigation buttons
      function fixNavigationButtons() {
        // Fix video slider buttons
        const videoNavButtons = document.querySelectorAll('.video-nav-btn');
        videoNavButtons.forEach(button => {
          // Remove hidden class and explicitly set styles
          button.classList.remove('hidden');
          button.style.opacity = "1";
          button.style.visibility = "visible";
        });
        
        console.log("Fixed navigation buttons visibility");
      }
      
      // Run immediately
      fixNavigationButtons();
      
      // And also run after a small delay to catch any buttons added later
      setTimeout(fixNavigationButtons, 500);
    });
  </script>
  <!--Start Header-->
  <!-- Start Bootstrap Header -->
  <header class="py-3">
    <nav class="navbar navbar-expand-lg navbar-light container">
      <!-- Logo -->
      <a class="navbar-brand" href="index.html">
        <img src="images/3.png" width="80" alt="Logo">
      </a>

      <!-- Toggler button for mobile view -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar"
        aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Navbar links and utilities -->
      <div class="collapse navbar-collapse" id="mainNavbar">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0 mainNav ">
          <li class="">
            <a class=" headLinks" href="index.html" data-lang="home"></a>
          </li>
          <li class="">
            <a class=" headLinks" href="videos.html" data-lang="videos"></a>
          </li>
          <li class="">
            <a class=" headLinks" href="about.html" data-lang="about"></a>
          </li>
        </ul>

        <!-- Right Side Buttons - Moved inside mobile menu -->
        <div class="toggle-btn">
          <!-- Dark Mode Toggle -->
          <div class="darkModeButton">
            <input type="checkbox" class="checkbox" id="chk" />
            <label class="label" for="chk">
              <i class="fas fa-moon moon"></i>
              <i class="fas fa-sun sun"></i>
              <div class="ball"></div>
            </label>
          </div>

          <!-- Language Switcher -->
          <div class="laguagesButton">
            <div class="inner1">
              <input type="checkbox" class="checkboxlang" id="chklang"
                aria-label="Toggle language between English and Arabic" />
              <label class="labellang" for="chklang">
                <span>Ar</span>
                <span>En</span>
                <div class="balllang"></div>
              </label>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <!-- End Bootstrap Header -->

  <main>
    <!-- Banner/Breadcrumbs -->
    <div class="banner">
      <div class="container">
        <p class="breadcrumbs" data-lang="gallary">Gallery</p>
      </div>
    </div>

    <!--Start Details Content-->
    <div id="details-content" style="padding-top:40px;">
      <div class="container">
        <h2 class="mainTitle" data-lang="gallary"></h2>
        
        <!-- Content Filter Bar -->
        <div class="content-filter-bar">
          <button class="filter-btn active" data-filter="all" data-i18n="show_all">Show All</button>
          <button class="filter-btn" data-filter="images" data-i18n="images">Images</button>
          <button class="filter-btn" data-filter="videos" data-i18n="videos_filter">Videos</button>
          <button class="filter-btn" data-filter="news" data-i18n="news_filter">News</button>
          <button class="filter-btn" data-filter="description" data-i18n="description">Description</button>
        </div>
        
        <div class="details-layout">
          <!-- Image Slider Column -->
          <div class="slider-column" data-content-type="images">
            <div class="slider">
            <!-- Main Image -->
              <div class="main-image-container" id="mainImageContainer">
              <img id="mainImage" src="images/news/1.jpg" alt="Main Image" class="main-image">
            </div>

            <!-- Thumbnail Images -->
            <div class="thumbnail-container">
                <button class="slider-nav slider-prev" aria-label="Previous thumbnails">
                  <i class="fas fa-chevron-left rtl-flip"></i>
                </button>
                <div class="thumbnails-wrapper">
              <img src="images/news/1.jpg" alt="Thumbnail 1" class="thumbnail" onclick="changeImage('images/news/1.jpg')">
              <img src="images/news/2.jpg" alt="Thumbnail 2" class="thumbnail" onclick="changeImage('images/news/2.jpg')">
              <img src="images/news/3.jpg" alt="Thumbnail 3" class="thumbnail" onclick="changeImage('images/news/3.jpg')">
              <img src="images/news/4.jpg" alt="Thumbnail 4" class="thumbnail" onclick="changeImage('images/news/4.jpg')">
                  <img src="images/news/5.jpg" alt="Thumbnail 5" class="thumbnail" onclick="changeImage('images/news/5.jpg')">
                  <img src="images/news/6.jpg" alt="Thumbnail 6" class="thumbnail" onclick="changeImage('images/news/6.jpg')">
                  <img src="images/news/7.jpg" alt="Thumbnail 7" class="thumbnail" onclick="changeImage('images/news/7.jpg')">
                  <img src="images/news/8.jpg" alt="Thumbnail 8" class="thumbnail" onclick="changeImage('images/news/8.jpg')">
                  <img src="images/news/9.jpg" alt="Thumbnail 9" class="thumbnail" onclick="changeImage('images/news/9.jpg')">
                  <img src="images/news/10.jpg" alt="Thumbnail 10" class="thumbnail" onclick="changeImage('images/news/10.jpg')">
                  <img src="images/news/11.jpg" alt="Thumbnail 11" class="thumbnail" onclick="changeImage('images/news/11.jpg')">
                  <img src="images/news/12.jpeg" alt="Thumbnail 12" class="thumbnail" onclick="changeImage('images/news/12.jpeg')">
            </div>
                <button class="slider-nav slider-next" aria-label="Next thumbnails">
                  <i class="fas fa-chevron-right rtl-flip"></i>
                </button>
          </div>
              
              <!-- Slide Indicators -->
              <div class="slide-indicators-container">
                <div class="slide-indicators image-indicators"></div>
        </div>
      </div>
    </div>
          
          <!-- Description Column -->
          <div class="description-column" data-content-type="description">
            <div class="image-description">
              <h3 class="description-title" data-i18n="about_achievement">About This Achievement</h3>
              <div class="description-content">
                <p data-i18n="achievement_desc_p1">Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus ducimus explicabo reiciendis officia! Provident illo quas voluptas hic repudiandae repellendus molestias dolorum! Quia consectetur fuga voluptate at ratione, beatae illum.</p>
                <p data-i18n="achievement_desc_p2">Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus ducimus explicabo reiciendis officia! Provident illo quas voluptas hic repudiandae repellendus molestias dolorum! Quia consectetur fuga voluptate at ratione, beatae illum.</p>
              </div>
              <div class="achievement-details">
                <div class="detail-item">
                  <span class="detail-label" data-i18n="date_label">Date:</span>
                  <span class="detail-value" data-i18n="achievement_date">March 15, 2023</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label" data-i18n="location_label">Location:</span>
                  <span class="detail-value" data-i18n="achievement_location">Cairo, Egypt</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label" data-i18n="category_label">Category:</span>
                  <span class="detail-value" data-i18n="achievement_category">Industrial Development</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Related Videos Section -->
    <div id="relatedVideosSection" data-content-type="videos">
      <div class="container">
        <h2 class="sectionTitle" data-lang="videos">Related Videos</h2>
        
        <!-- Main Video Player -->
        <div class="main-video-container">
          <div class="main-video-player">
            <iframe id="mainVideoPlayer" src="https://www.youtube.com/embed/VIDEO_ID_1" frameborder="0" allowfullscreen></iframe>
            <button class="fullscreen-btn" onclick="openVideoModal(document.getElementById('mainVideoPlayer').src)" title="Fullscreen" data-i18n-title="fullscreen">
              <i class="fas fa-expand"></i>
            </button>
                </div>
          <div class="main-video-info">
            <h3 id="mainVideoTitle" data-i18n="achievement_overview">Achievement Overview - Industrial Development Project</h3>
            <p id="mainVideoDescription">Watch this comprehensive overview of our industrial development achievement, highlighting key milestones and outcomes of this landmark project.</p>
                </div>
                </div>
        
        <!-- Video Thumbnails Slider -->
        <div class="video-slider-container">
          <button class="video-nav-btn video-prev-btn" aria-label="Previous videos">
            <i class="fas fa-chevron-left rtl-flip"></i>
          </button>
          
          <div class="video-slider-track-wrapper">
            <div class="video-slider-track">
              <!-- Video Card 1 -->
              <div class="video-card" data-video-id="VIDEO_ID_1" data-video-title="Achievement Overview - Industrial Development Project" data-video-desc="Watch this comprehensive overview of our industrial development achievement, highlighting key milestones and outcomes of this landmark project." onclick="playInMainPlayer(this)">
                <div class="video-thumbnail-box">
                  <img src="images/news/1.jpg" alt="Video Thumbnail" class="video-thumbnail">
                  <div class="play-button" title="Play Video" data-i18n-title="watch_video">
                    <i class="fas fa-play-circle"></i>
                </div>
                </div>
                <div class="video-title" data-i18n="achievement_overview">Achievement Overview - Industrial Development Project</div>
          </div>

              <!-- Video Card 2 -->
              <div class="video-card" data-video-id="VIDEO_ID_2" data-video-title="Interview with Project Lead Engineer" data-video-desc="Our lead engineer discusses the technical challenges and innovative solutions implemented throughout the development process." onclick="playInMainPlayer(this)">
                <div class="video-thumbnail-box">
                  <img src="images/news/2.jpg" alt="Video Thumbnail" class="video-thumbnail">
                  <div class="play-button" title="Play Video" data-i18n-title="watch_video">
                    <i class="fas fa-play-circle"></i>
          </div>
        </div>
                <div class="video-title" data-i18n="project_lead_interview">Interview with Project Lead Engineer</div>
      </div>
              
              <!-- Video Card 3 -->
              <div class="video-card" data-video-id="VIDEO_ID_3" data-video-title="Project Completion Ceremony Highlights" data-video-desc="Highlights from the official ceremony marking the successful completion of this groundbreaking industrial development initiative." onclick="playInMainPlayer(this)">
                <div class="video-thumbnail-box">
                  <img src="images/news/3.jpg" alt="Video Thumbnail" class="video-thumbnail">
                  <div class="play-button" title="Play Video" data-i18n-title="watch_video">
                    <i class="fas fa-play-circle"></i>
                  </div>
                </div>
                <div class="video-title" data-i18n="completion_ceremony">Project Completion Ceremony Highlights</div>
    </div>

              <!-- Video Card 4 -->
              <div class="video-card" data-video-id="VIDEO_ID_4" data-video-title="Behind the Scenes: Project Development" data-video-desc="Go behind the scenes to see how our team worked together to overcome challenges and achieve remarkable results." onclick="playInMainPlayer(this)">
                <div class="video-thumbnail-box">
                  <img src="images/news/4.jpg" alt="Video Thumbnail" class="video-thumbnail">
                  <div class="play-button" title="Play Video" data-i18n-title="watch_video">
                    <i class="fas fa-play-circle"></i>
                  </div>
                </div>
                <div class="video-title" data-i18n="behind_scenes">Behind the Scenes: Project Development</div>
              </div>
              
              <!-- Video Card 5 -->
              <div class="video-card" data-video-id="VIDEO_ID_5" data-video-title="Impact Analysis: Community Benefits" data-video-desc="Learn about the positive economic and social impacts this project has created for the surrounding communities and region." onclick="playInMainPlayer(this)">
                <div class="video-thumbnail-box">
                  <img src="images/news/5.jpg" alt="Video Thumbnail" class="video-thumbnail">
                  <div class="play-button" title="Play Video" data-i18n-title="watch_video">
                    <i class="fas fa-play-circle"></i>
                  </div>
                </div>
                <div class="video-title" data-i18n="impact_analysis">Impact Analysis: Community Benefits</div>
              </div>
            </div>
          </div>
          
          <button class="video-nav-btn video-next-btn" aria-label="Next videos">
            <i class="fas fa-chevron-right rtl-flip"></i>
          </button>
          
          <!-- Video Slide Indicators -->
          <div class="slide-indicators-container">
            <div class="slide-indicators video-indicators"></div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Video Modal -->
    <div id="videoModal" class="video-modal">
      <div class="video-modal-content">
        <span class="video-modal-close" onclick="closeVideoModal()" title="Close" data-i18n-title="close">&times;</span>
        <div class="video-container">
          <iframe id="videoFrame" src="" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
    </div>

    <div id="newsLinksSection" data-content-type="news">
      <h2 class="sectionTitle" data-lang="news">Latest News</h2>
      <ul class="newsLinks">
        <li><a href="#"><i class="fas fa-newspaper icon news-icon"></i> <span data-i18n="news_item_1">New development in tech industry</span></a></li>
        <li><a href="#"><i class="fas fa-newspaper icon news-icon"></i> <span data-i18n="news_item_2">Economy shows signs of recovery</span></a></li>
        <li><a href="#"><i class="fas fa-newspaper icon news-icon"></i> <span data-i18n="news_item_3">New policies announced today</span></a></li>
        <li><a href="#"><i class="fas fa-newspaper icon news-icon"></i> <span data-i18n="news_item_4">Sports team wins championship</span></a></li>
        <li><a href="#"><i class="fas fa-newspaper icon news-icon"></i> <span data-i18n="news_item_5">Upcoming cultural events</span></a></li>
      </ul>
    </div>

    <!--Start Footer-->
    <div class="footer">
      <p class="copyright">
        coded by
        <a href="#">Eng: saad hossam</a>.
      </p>
    </div>
    <!--End Footer-->
  </main>

  <div class="scrollToTop"><i class="fa-solid fa-arrow-up"></i></div>
  
  <!-- Fullscreen Image Overlay -->
  <div id="fullscreenOverlay" class="fullscreen-overlay">
    <div class="overlay-header">
      <button class="overlay-close" onclick="closeFullscreenOverlay()">&times;</button>
    </div>
    <div class="overlay-content">
      <button class="overlay-nav prev-btn" onclick="changeOverlayImage(-1)">
        <i class="fas fa-chevron-left rtl-flip"></i>
      </button>
      <div class="overlay-image-container">
        <img id="overlayImage" src="" alt="Fullscreen Image">
      </div>
      <button class="overlay-nav next-btn" onclick="changeOverlayImage(1)">
        <i class="fas fa-chevron-right rtl-flip"></i>
      </button>
    </div>
    <div class="overlay-footer">
      <span id="currentImageIndex">1</span> / <span id="totalImages">12</span>
    </div>
  </div>
  
  <!-- Test button (temporarily for debugging) -->
  <!-- <button id="testOverlayBtn" style="position: fixed; bottom: 70px; right: 20px; z-index: 9999; padding: 10px 20px; background: #ff0000; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 8px rgba(0,0,0,0.3);">Click to Test Overlay</button> -->
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/all.min.js"></script>
  <script src="js/main.js"></script>
  
  <script>
    // Get references to the checkbox and body
    const darkModeToggle = document.getElementById('chk');
    const body = document.body;
    
    // Check if dark mode is saved in local storage
    if (localStorage.getItem('darkMode') === 'enabled') {
      body.classList.add('dark-mode');
      darkModeToggle.checked = true;
    }
    
    // Event listener for toggle
    darkModeToggle.addEventListener('change', () => {
      if (darkModeToggle.checked) {
        body.classList.add('dark-mode');
        localStorage.setItem('darkMode', 'enabled');  // Save preference in local storage
      } else {
        body.classList.remove('dark-mode');
        localStorage.setItem('darkMode', 'disabled');
      }
    });
  </script>
  
  <script>
    const translations = {
      en: {
        // Header / Navigation
        home: "Home",
        news: "Achievments",
        about: "About Us",
        features: "Features",
        "other links": "Other Links",
        gallary: "Gallary",
        "team members": "Team Members",
        services: "Services",
        "our skills": "Our Skills",
        "how it works": "How It Works",
        events: "Events",
        "pricing plans": "Pricing Plans",
        "videos": "Videos",
        stats: "Stats",
        "request a discount": "Request a Discount",

        // Content Filter Bar
        show_all: "Show All",
        images: "Images",
        videos_filter: "Videos",
        news_filter: "News",
        description: "Description",

        // Image Description
        about_achievement: "About This Achievement",
        achievement_desc_p1: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus ducimus explicabo reiciendis officia! Provident illo quas voluptas hic repudiandae repellendus molestias dolorum! Quia consectetur fuga voluptate at ratione, beatae illum.",
        achievement_desc_p2: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus ducimus explicabo reiciendis officia! Provident illo quas voluptas hic repudiandae repellendus molestias dolorum! Quia consectetur fuga voluptate at ratione, beatae illum.",
        date_label: "Date:",
        achievement_date: "March 15, 2023",
        location_label: "Location:",
        achievement_location: "Cairo, Egypt",
        category_label: "Category:",
        achievement_category: "Industrial Development",

        // News Links Section
        news_item_1: "New development in tech industry",
        news_item_2: "Economy shows signs of recovery",
        news_item_3: "New policies announced today",
        news_item_4: "Sports team wins championship",
        news_item_5: "Upcoming cultural events",

        // Video Section
        related_videos: "Related Videos",
        achievement_overview: "Achievement Overview - Industrial Development Project",
        project_lead_interview: "Interview with Project Lead Engineer",
        completion_ceremony: "Project Completion Ceremony Highlights",
        behind_scenes: "Behind the Scenes: Project Development",
        impact_analysis: "Impact Analysis: Community Benefits",
        fullscreen: "Fullscreen",
        watch_video: "Play Video",
        close: "Close"
      },
      ar: {
        // Header / Navigation
        home: " الرئيسية",
        news: "الانجازات",
        about: "  معلومات عنا",
        features: "مميزات",
        "other links": "روابط أخرى",
        gallary: "الأنجاز",
        "team members": "أعضاء الفريق",
        services: "خدمات",
        "our skills": "مهاراتنا",
        "how it works": "كيف يعمل",
        events: "الأحداث",
        "pricing plans": "خطط الأسعار",
        "videos": "معرض الفيديوهات",
        stats: "الإحصائيات",
        "request a discount": "طلب خصم",

        // Content Filter Bar
        show_all: "عرض الكل",
        images: "الصور",
        videos_filter: "الفيديوهات",
        news_filter: "الأخبار",
        description: "الوصف",

        // Image Description
        about_achievement: "عن هذا الإنجاز",
        achievement_desc_p1: "لوريم إيبسوم هو نص وهمي يستخدم في صناعة الطباعة والتنضيد. كان لوريم إيبسوم ولايزال المعيار للنص الوهمي منذ القرن الخامس عشر عندما قامت مطبعة مجهولة برص مجموعة من الأحرف بشكل عشوائي أخذتها من نص، لتكوّن كتيّب بمثابة دليل أو مرجع شكلي لهذه الأحرف.",
        achievement_desc_p2: "لوريم إيبسوم هو نص وهمي يستخدم في صناعة الطباعة والتنضيد. كان لوريم إيبسوم ولايزال المعيار للنص الوهمي منذ القرن الخامس عشر عندما قامت مطبعة مجهولة برص مجموعة من الأحرف بشكل عشوائي أخذتها من نص، لتكوّن كتيّب بمثابة دليل أو مرجع شكلي لهذه الأحرف.",
        date_label: "التاريخ:",
        achievement_date: "١٥ مارس ٢٠٢٣",
        location_label: "الموقع:",
        achievement_location: "القاهرة، مصر",
        category_label: "الفئة:",
        achievement_category: "التنمية الصناعية",

        // News Links Section
        news_item_1: "تطور جديد في صناعة التكنولوجيا",
        news_item_2: "الاقتصاد يظهر علامات التعافي",
        news_item_3: "سياسات جديدة تم الإعلان عنها اليوم",
        news_item_4: "فريق رياضي يفوز بالبطولة",
        news_item_5: "الفعاليات الثقافية القادمة",

        // Video Section
        related_videos: "الفيديوهات المتعلقة",
        achievement_overview: "نظرة عامة على الإنجاز - مشروع التنمية الصناعية",
        project_lead_interview: "مقابلة مع المهندس المسؤول عن المشروع",
        completion_ceremony: "لقطات من حفل إكمال المشروع",
        behind_scenes: "خلف الكواليس: تطوير المشروع",
        impact_analysis: "تحليل التأثير: فوائد المجتمع",
        fullscreen: "عرض بملء الشاشة",
        watch_video: "مشاهدة الفيديو",
        close: "إغلاق"
      }
    };

    // Make translations available globally
    window.translations = translations;
  </script>
  
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Load thumbnails
      document.querySelectorAll('#videoList li').forEach(li => {
        const videoUrl = li.getAttribute("data-video");
        const videoId = videoUrl.split("/").pop(); // get ID after /embed/
        const img = li.querySelector("img.thumbnail");
        img.src = `https://img.youtube.com/vi/${videoId}/hqdefault.jpg`;
        img.alt = "Video thumbnail";
      });
    
      // Load selected video
      const videoPlayer = document.getElementById("videoPlayer");
      const videoInfo = document.getElementById("videoInfo");
    
      document.querySelectorAll('#videoList li').forEach(li => {
        li.addEventListener("click", function () {
          const videoUrl = li.getAttribute("data-video");
          const info = li.getAttribute("data-info");
    
          videoPlayer.src = videoUrl;
          if (videoInfo) videoInfo.textContent = info;
        });
      });
    });
  </script>
        
  <script>
         // Continue with rest of the script
  </script>
  
  <script>
    // Thumbnail slider functionality
    document.addEventListener('DOMContentLoaded', function() {
      const thumbnailsWrapper = document.querySelector('.thumbnails-wrapper');
      const prevButton = document.querySelector('.slider-prev');
      const nextButton = document.querySelector('.slider-next');
      
      if (thumbnailsWrapper && prevButton && nextButton) {
        // Set scroll amount to thumbnail width + gap (approximately)
        const scrollAmount = 85 * 3; 
        
        // Function to check if page is in RTL mode
        function isRTLMode() {
          return document.dir === 'rtl' || document.body.getAttribute('dir') === 'rtl';
        }
        
        // Function to scroll thumbnails that handles RTL mode automatically
        function scrollThumbnails(direction) {
          const scrollDir = isRTLMode() ? -direction : direction;
          thumbnailsWrapper.scrollBy({
            left: scrollDir * scrollAmount,
            behavior: 'smooth'
          });
          
          // After scrolling, update arrow visibility
          setTimeout(updateArrowVisibility, 300);
        }
        
        // Function to update arrow visibility based on scroll position
        function updateArrowVisibility() {
          const scrollPosition = thumbnailsWrapper.scrollLeft;
          const maxScroll = thumbnailsWrapper.scrollWidth - thumbnailsWrapper.clientWidth;
          
          // In RTL mode, scrollLeft is negative and goes from 0 to -maxScroll
          if (isRTLMode()) {
            // For RTL: show prev when not at rightmost position (scrollLeft is not 0)
            prevButton.classList.toggle('hidden', scrollPosition >= 0);
            // For RTL: show next when not at leftmost position (scrollLeft is not at -maxScroll)
            nextButton.classList.toggle('hidden', scrollPosition <= -maxScroll + 5);
          } else {
            // For LTR: show prev when not at leftmost position (scrollLeft is not 0)
            prevButton.classList.toggle('hidden', scrollPosition <= 0);
            // For LTR: show next when not at rightmost position (scrollLeft is not at maxScroll)
            nextButton.classList.toggle('hidden', scrollPosition >= maxScroll - 5);
          }
        }
        
        // Button click handlers
        prevButton.addEventListener('click', function() {
          scrollThumbnails(-1); // Scroll left in LTR, right in RTL
        });
        
        nextButton.addEventListener('click', function() {
          scrollThumbnails(1);  // Scroll right in LTR, left in RTL
        });
        
        // Update navigation on language change
        const langToggle = document.getElementById('chklang');
        if (langToggle) {
          langToggle.addEventListener('change', function() {
            // Small delay to allow the dir attribute to update
            setTimeout(() => {
              // Clear the scroll position to avoid confusion
              thumbnailsWrapper.scrollLeft = 0;
              updateArrowVisibility();
            }, 200);
          });
        }
        
        // Listen for scroll events to update arrow visibility
        thumbnailsWrapper.addEventListener('scroll', updateArrowVisibility);
        
        // Initial check for arrow visibility
        updateArrowVisibility();
        
        // Also update on window resize
        window.addEventListener('resize', updateArrowVisibility);
      }
    });

    // Global variables to track current image state
    let imagePaths = [];
    let currentImageIndex = 0;

    // Function to initialize image paths from thumbnails
    function initializeImagePaths() {
      const thumbnails = document.querySelectorAll('.thumbnail');
      imagePaths = Array.from(thumbnails).map(thumb => thumb.src);
      
      // Update total images display
      document.getElementById('totalImages').textContent = imagePaths.length;
    }

    // Initialize on document load
    document.addEventListener('DOMContentLoaded', function() {
      initializeImagePaths();
    });

    // Function to change the main image when a thumbnail is clicked
    function changeImage(src) {
      const mainImage = document.getElementById('mainImage');
      
      // Add fade-out effect
      mainImage.style.opacity = '0';
      mainImage.style.transition = 'opacity 0.3s ease';
      
      // Change image after fade out
      setTimeout(function() {
        mainImage.src = src;
  
        // Update current image index for the overlay
        const thumbnails = document.querySelectorAll('.thumbnail');
        currentImageIndex = Array.from(thumbnails).findIndex(thumb => thumb.src.includes(src));
        
        // Update indicators
        updateImageIndicators(currentImageIndex);
        
        // Fade back in
        mainImage.style.opacity = '1';
      }, 300);
  
      // Highlight the selected thumbnail
      const thumbnails = document.querySelectorAll('.thumbnail');
      thumbnails.forEach(thumb => {
        thumb.classList.remove('selected');
      });
  
      const selectedThumbnail = Array.from(thumbnails).find(thumb => thumb.src.includes(src));
      if (selectedThumbnail) {
        selectedThumbnail.classList.add('selected');
        
        // Scroll the thumbnail into view if needed
        selectedThumbnail.scrollIntoView({
          behavior: 'smooth',
          block: 'nearest',
          inline: 'center'
        });
      }
    }

    // Initialize with first thumbnail selected
    document.addEventListener('DOMContentLoaded', function() {
      const firstThumbnail = document.querySelector('.thumbnail');
      if (firstThumbnail) {
        firstThumbnail.classList.add('selected');
      }
    });

    // Fullscreen overlay functions
    function openFullscreenOverlay(src) {
      const overlay = document.getElementById('fullscreenOverlay');
      const overlayImage = document.getElementById('overlayImage');
      
      // Set the image source
      overlayImage.src = src;
      
      // Update current image index
      const thumbnails = document.querySelectorAll('.thumbnail');
      currentImageIndex = Array.from(thumbnails).findIndex(thumb => thumb.src.includes(src));
      
      // Update counter
      document.getElementById('currentImageIndex').textContent = currentImageIndex + 1;
      
      // Show overlay with transition
      overlay.style.display = 'flex';
      setTimeout(() => {
        overlay.classList.add('active');
      }, 10);
      
      // Add loaded class when image is loaded
      overlayImage.onload = function() {
        overlayImage.classList.add('loaded');
      };
      
      // Disable body scroll
      document.body.style.overflow = 'hidden';
      
      // Listen for keyboard events
      document.addEventListener('keydown', handleKeyPress);
    }

    function closeFullscreenOverlay() {
      const overlay = document.getElementById('fullscreenOverlay');
      const overlayImage = document.getElementById('overlayImage');
      
      // Hide with transition
      overlay.classList.remove('active');
      setTimeout(() => {
        overlay.style.display = 'none';
        overlayImage.classList.remove('loaded');
      }, 300);
      
      // Re-enable body scroll
      document.body.style.overflow = 'auto';
      
      // Remove keyboard event listener
      document.removeEventListener('keydown', handleKeyPress);
    }

    function changeOverlayImage(direction) {
      const overlayImage = document.getElementById('overlayImage');
      const prevBtn = document.querySelector('.overlay-nav.prev-btn');
      const nextBtn = document.querySelector('.overlay-nav.next-btn');
      
      // Remove loaded class
      overlayImage.classList.remove('loaded');
      
      // Calculate new index based on direction
      const isRTL = document.dir === 'rtl' || document.body.getAttribute('dir') === 'rtl';
      const effectiveDirection = isRTL ? -direction : direction;
      
      currentImageIndex = (currentImageIndex + effectiveDirection + imagePaths.length) % imagePaths.length;
      
      // Update counter
      document.getElementById('currentImageIndex').textContent = currentImageIndex + 1;
      
      // Update navigation buttons visibility
      updateOverlayNavVisibility();
      
      // Change the image with fade effect
      setTimeout(() => {
        overlayImage.src = imagePaths[currentImageIndex];
        
        // Add loaded class when image is loaded
        overlayImage.onload = function() {
          overlayImage.classList.add('loaded');
        };
      }, 300);
    }
    
    function updateOverlayNavVisibility() {
      const prevBtn = document.querySelector('.overlay-nav.prev-btn');
      const nextBtn = document.querySelector('.overlay-nav.next-btn');
      const totalImages = imagePaths.length;
      
      if (!prevBtn || !nextBtn) return;
      
      // Hide previous button if at first image
      // prevBtn.classList.toggle('hidden', currentImageIndex === 0);
      
      // Hide next button if at last image
      // nextBtn.classList.toggle('hidden', currentImageIndex === totalImages - 1);
    }

    function handleKeyPress(e) {
      // Handle arrow keys and escape
      switch(e.key) {
        case 'Escape':
          closeFullscreenOverlay();
          break;
        case 'ArrowLeft':
          changeOverlayImage(-1);
          break;
        case 'ArrowRight':
          changeOverlayImage(1);
          break;
      }
    }
  </script>
  
  <script>
    // Standalone overlay functionality
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM fully loaded - initializing overlay functionality');
      initializeOverlay();
    });
    
    // If the DOM is already loaded, run initialization immediately
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
      console.log('DOM already loaded - initializing overlay functionality immediately');
      initializeOverlay();
    }
    
    function initializeOverlay() {
      // Get references to overlay elements
      const overlay = document.getElementById('fullscreenOverlay');
      const overlayImage = document.getElementById('overlayImage');
      const testButton = document.getElementById('testOverlayBtn');
      const mainImage = document.getElementById('mainImage');
      
      // Set up test button click handler
      if (testButton) {
        testButton.addEventListener('click', function() {
          openFullscreenOverlay(mainImage.src);
        });
      }
      
      // Make sure main image is clickable
      const mainImageContainer = document.getElementById('mainImageContainer');
      if (mainImage && mainImageContainer) {
        // Add click event to both the image and its container
        mainImage.addEventListener('click', function() {
          openFullscreenOverlay(this.src);
        });
        
        mainImageContainer.addEventListener('click', function() {
          openFullscreenOverlay(mainImage.src);
        });
        
        console.log("Click handlers added to main image");
      }
      
      // Populate image paths immediately
      const thumbnails = document.querySelectorAll('.thumbnail');
      const imagePaths = Array.from(thumbnails).map(thumb => thumb.src);
      
      // Update total images count
      const totalImagesElement = document.getElementById('totalImages');
      if (totalImagesElement) {
        totalImagesElement.textContent = imagePaths.length;
      }
      
      // Expose necessary variables and functions to global scope
      window.imagePaths = imagePaths;
      window.currentImageIndex = 0;
      
      window.openFullscreenOverlay = function(src) {
        console.log("Opening overlay with image:", src);
        
        // Set the image source
        overlayImage.src = src;
        
        // Find current image index
        window.currentImageIndex = imagePaths.findIndex(path => path.includes(src.split('/').pop()));
        if (window.currentImageIndex === -1) window.currentImageIndex = 0;
        
        // Update counter
        document.getElementById('currentImageIndex').textContent = window.currentImageIndex + 1;
        
        // Update navigation buttons visibility
        if (typeof updateOverlayNavVisibility === 'function') {
          updateOverlayNavVisibility();
        } else {
          // If the function isn't defined yet, create a simple version
          const prevBtn = document.querySelector('.overlay-nav.prev-btn');
          const nextBtn = document.querySelector('.overlay-nav.next-btn');
          const totalImages = imagePaths.length;
          
          // Hide previous button if at first image
          if (prevBtn) prevBtn.classList.toggle('hidden', window.currentImageIndex === 0);
          
          // Hide next button if at last image
          if (nextBtn) nextBtn.classList.toggle('hidden', window.currentImageIndex === totalImages - 1);
        }
        
        // Show overlay with transition
        overlay.style.display = 'flex';
        setTimeout(() => {
          overlay.classList.add('active');
        }, 10);
        
        // Add loaded class when image is loaded
        overlayImage.onload = function() {
          overlayImage.classList.add('loaded');
        };
        
        // Disable body scroll
        document.body.style.overflow = 'hidden';
        
        // Listen for keyboard events
        document.addEventListener('keydown', handleKeyPress);
      };
      
      window.closeFullscreenOverlay = function() {
        // Hide with transition
        overlay.classList.remove('active');
        setTimeout(() => {
          overlay.style.display = 'none';
          overlayImage.classList.remove('loaded');
        }, 300);
        
        // Re-enable body scroll
        document.body.style.overflow = 'auto';
        
        // Remove keyboard event listener
        document.removeEventListener('keydown', handleKeyPress);
      };
      
      window.changeOverlayImage = function(direction) {
        // Remove loaded class
        overlayImage.classList.remove('loaded');
        
        // Calculate new index based on direction
        const isRTL = document.dir === 'rtl' || document.body.getAttribute('dir') === 'rtl';
        const effectiveDirection = isRTL ? -direction : direction;
        
        window.currentImageIndex = (window.currentImageIndex + effectiveDirection + imagePaths.length) % imagePaths.length;
        
        // Update counter
        document.getElementById('currentImageIndex').textContent = window.currentImageIndex + 1;
        
        // Change the image with fade effect
        setTimeout(() => {
          overlayImage.src = imagePaths[window.currentImageIndex];
          
          // Add loaded class when image is loaded
          overlayImage.onload = function() {
            overlayImage.classList.add('loaded');
          };
        }, 300);
      };
      
      function handleKeyPress(e) {
        // Handle arrow keys and escape
        switch(e.key) {
          case 'Escape':
            window.closeFullscreenOverlay();
            break;
          case 'ArrowLeft':
            window.changeOverlayImage(-1);
            break;
          case 'ArrowRight':
            window.changeOverlayImage(1);
            break;
        }
      }
      
      window.handleKeyPress = handleKeyPress;
      
      console.log("Fullscreen overlay initialized with " + imagePaths.length + " images");
    }
  </script>
  
  <!-- Video Player JavaScript -->
  <script>
    // Content Filter Functionality
    document.addEventListener('DOMContentLoaded', function() {
      const filterButtons = document.querySelectorAll('.filter-btn');
      const contentSections = document.querySelectorAll('[data-content-type]');
      
      // Initialize with 'all' filter
      applyActiveFilter('all');
      
      // Add click event listeners to filter buttons
      filterButtons.forEach(button => {
        button.addEventListener('click', function() {
          const filter = this.getAttribute('data-filter');
          
          // Update active button
          filterButtons.forEach(btn => btn.classList.remove('active'));
          this.classList.add('active');
          
          // Apply the filter
          applyActiveFilter(filter);
        });
      });
      
      // Function to apply the active filter
      function applyActiveFilter(filter) {
        // First fade out all content
        contentSections.forEach(section => {
          section.classList.add('fade-out');
        });
        
        // After transition completes, show/hide sections based on filter
        setTimeout(() => {
          contentSections.forEach(section => {
            const contentType = section.getAttribute('data-content-type');
            
            if (filter === 'all' || filter === contentType) {
              section.classList.remove('hidden-content');
              setTimeout(() => {
                section.classList.remove('fade-out');
                section.classList.add('fade-in');
              }, 50);
            } else {
              section.classList.add('hidden-content');
            }
          });
          
          // Trigger window resize to ensure sliders update properly
          window.dispatchEvent(new Event('resize'));
        }, 300);
      }
    });
    
    // Main Video Player Function
    function playInMainPlayer(videoCard) {
      // Get video information from data attributes
      const videoId = videoCard.getAttribute('data-video-id');
      const videoTitle = videoCard.getAttribute('data-video-title');
      const videoDesc = videoCard.getAttribute('data-video-desc');
      
      // Update main player
      const mainPlayer = document.getElementById('mainVideoPlayer');
      const mainTitle = document.getElementById('mainVideoTitle');
      const mainDesc = document.getElementById('mainVideoDescription');
      
      // Add a loading class to the container
      const container = document.querySelector('.main-video-container');
      container.classList.add('loading');
      
      // Update video source with slight delay to allow for loading animation
      setTimeout(() => {
        mainPlayer.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
        mainTitle.textContent = videoTitle;
        mainDesc.textContent = videoDesc;
        
        // Remove the loading class
        container.classList.remove('loading');
        
        // Highlight the active video card
        const videoCards = document.querySelectorAll('.video-card');
        const currentIndex = Array.from(videoCards).indexOf(videoCard);
        
        videoCards.forEach(card => {
          card.classList.remove('active');
        });
        videoCard.classList.add('active');
        
        // Update video indicators
        updateVideoIndicators(currentIndex);
        
        // Scroll the selected thumbnail into better view within the slider
        centerSelectedVideoInSlider(videoCard);
        
        // Scroll to the main video area if on mobile
        if (window.innerWidth < 768) {
          document.querySelector('.main-video-container').scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      }, 300);
    }
    
    // Function to center the selected video card in the slider
    function centerSelectedVideoInSlider(videoCard) {
      const sliderTrack = document.querySelector('.video-slider-track');
      const sliderWrapper = document.querySelector('.video-slider-track-wrapper');
      
      if (!sliderTrack || !sliderWrapper) return;
      
      // Get all video cards and determine special positions
      const videoCards = sliderTrack.querySelectorAll('.video-card');
      const totalCards = videoCards.length;
      const isFirstVideo = videoCard === videoCards[0];
      const isSecondVideo = videoCard === videoCards[1];
      const isLastVideo = videoCard === videoCards[totalCards - 1];
      
      // Calculate max scroll position
      const containerWidth = sliderWrapper.offsetWidth;
      const trackWidth = sliderTrack.scrollWidth;
      const maxScroll = Math.max(0, trackWidth - containerWidth);
      
      // Handle special cases for first, second, and last video
      if (isFirstVideo || isSecondVideo) {
        // First or second video: reset to beginning position
        console.log("First or second video selected, setting to beginning position");
        sliderTrack.style.transition = 'transform 0.5s ease';
        sliderTrack.style.transform = 'translateX(0)';
        window.currentVideoPosition = 0;
        return;
      }
      
      if (isLastVideo) {
        // Last video: go to end position
        console.log("Last video selected, setting to end position");
        const isRTL = document.dir === 'rtl' || document.body.getAttribute('dir') === 'rtl';
        const endPosition = isRTL ? maxScroll : -maxScroll;
        
        sliderTrack.style.transition = 'transform 0.5s ease';
        sliderTrack.style.transform = `translateX(${endPosition}px)`;
        window.currentVideoPosition = Math.abs(endPosition);
        return;
      }
      
      // For other videos, continue with normal centering
      // Check if RTL mode is active
      const isRTL = document.dir === 'rtl' || document.body.getAttribute('dir') === 'rtl';
      
      // Calculate the current scroll position and the card's position
      const wrapperRect = sliderWrapper.getBoundingClientRect();
      const cardRect = videoCard.getBoundingClientRect();
      
      // Calculate center positions
      const wrapperCenter = wrapperRect.left + (wrapperRect.width / 2);
      const cardCenter = cardRect.left + (cardRect.width / 2);
      
      // Calculate how far the card is from the center
      const distanceFromCenter = cardCenter - wrapperCenter;
      
      // Get the current transform value
      let currentTranslate = 0;
      const transformValue = sliderTrack.style.transform;
      if (transformValue) {
        const match = transformValue.match(/translateX\(([-\d.]+)px\)/);
        if (match && match[1]) {
          currentTranslate = parseFloat(match[1]);
        }
      }
      
      // Calculate new position, accounting for RTL if needed
      let newTranslate = currentTranslate;
      if (isRTL) {
        newTranslate -= distanceFromCenter;
      } else {
        newTranslate -= distanceFromCenter;
      }
      
      // Apply boundary limits
      if (Math.abs(newTranslate) > maxScroll) {
        newTranslate = isRTL ? maxScroll : -maxScroll;
      }
      if (newTranslate > 0 && !isRTL) newTranslate = 0;
      if (newTranslate < 0 && isRTL) newTranslate = 0;
      
      // Apply the new transform with smooth animation
      sliderTrack.style.transition = 'transform 0.5s ease';
      sliderTrack.style.transform = `translateX(${newTranslate}px)`;
      
      // Update the stored position for the slider navigation
      window.currentVideoPosition = Math.abs(newTranslate);
    }
    
    // Video Modal Functions
    function openVideoModal(videoSrc) {
      // Get modal elements
      const modal = document.getElementById('videoModal');
      const videoFrame = document.getElementById('videoFrame');
      
      // Set video source
      videoFrame.src = videoSrc;
      
      // Show modal with a fade effect
      modal.style.display = 'block';
      setTimeout(() => {
        modal.style.opacity = '1';
      }, 10);
      
      // Disable body scroll
      document.body.style.overflow = 'hidden';
      
      // Add escape key event listener
      document.addEventListener('keydown', handleVideoModalKeyPress);
    }
    
    function closeVideoModal() {
      // Get modal elements
      const modal = document.getElementById('videoModal');
      const videoFrame = document.getElementById('videoFrame');
      
      // Fade out and hide
      modal.style.opacity = '0';
      setTimeout(() => {
        modal.style.display = 'none';
        // Clear video source to stop playback
        videoFrame.src = '';
      }, 300);
      
      // Re-enable body scroll
      document.body.style.overflow = 'auto';
      
      // Remove key event listener
      document.removeEventListener('keydown', handleVideoModalKeyPress);
    }
    
    function handleVideoModalKeyPress(e) {
      if (e.key === 'Escape') {
        closeVideoModal();
      }
    }
    
    // Close the modal if user clicks outside of content
    window.addEventListener('click', function(event) {
      const modal = document.getElementById('videoModal');
      if (event.target === modal) {
        closeVideoModal();
      }
    });
    
    // Initialize the first video as active on page load
    document.addEventListener('DOMContentLoaded', function() {
      const firstVideoCard = document.querySelector('.video-card');
      if (firstVideoCard) {
        // Just add active class without triggering centering
        firstVideoCard.classList.add('active');
        
        // Reset track position to ensure we start at the beginning
        const videoTrack = document.querySelector('.video-slider-track');
        if (videoTrack) {
          videoTrack.style.transform = 'translateX(0)';
          window.currentVideoPosition = 0;
        }
      }
    });
  </script>

  <style>
    /* Main Video Player Styles */
    .main-video-container {
      width: 90%;
      height: 30rem;
      margin-bottom: 30px;
      margin-inline: auto;
      display: flex;
      flex-direction: column;
      background-color: #f9f9f9;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    
    .dark-mode .main-video-container {
      background-color: var(--background-primary);
      box-shadow: 0 4px 15px  var(--shadow-color);;
    }
    
    .main-video-player {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      height: 0;
      overflow: hidden;
    }
    
    .main-video-player iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      display: block;
    }
    
    .fullscreen-btn {
      position: absolute;
      bottom: 15px;
      right: 15px;
      background-color: rgba(0, 0, 0, 0.6);
      color: white;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 10;
    }
    
    .fullscreen-btn:hover {
      background-color: var(--primary-color);
      transform: scale(1.1);
    }
    
    .main-video-info {
      padding: 20px;
    }
    
    .main-video-info h3 {
      margin-top: 0;
      margin-bottom: 10px;
      font-size: 1.4rem;
      color: #333;
    }
    
    .dark-mode .main-video-info h3 {
      color: #f0f0f0;
    }
    
    .main-video-info p {
      margin: 0;
      color: #666;
      line-height: 1.6;
    }
    
    .dark-mode .main-video-info p {
      color: #ccc;
    }
    
    /* Make the main video section responsive */
    @media (min-width: 992px) {
      .main-video-container {
        flex-direction: row;
        align-items: stretch;
      }
      
      .main-video-player {
        flex: 0 0 65%;
        padding-bottom: 0;
        height: auto;
      }
      
      .main-video-info {
        flex: 0 0 35%;
        padding: 25px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
    }
    
    /* Loading animation for video change */
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }
    
    .main-video-container.loading .main-video-player:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.1);
      z-index: 5;
      animation: pulse 1s infinite;
    }
    
    /* Video Slider Styles */
    .video-slider-container {
      position: relative;
      width: 100%;
      margin: 20px 0;
      padding: 0 50px;
    }

    .video-slider-track-wrapper {
      padding-inline: 1rem;
      width: 100%;
      overflow: hidden;
      position: relative;
    }

    .video-slider-track {
      display: flex;
      flex-wrap: nowrap;
      gap: 20px;
      transition: transform 0.5s ease;
      padding: 10px 0;
      padding-inline-end: 2rem;
      width: fit-content; /* Important for preventing wrapping */
    }

    .video-card {
      flex: 0 0 260px;
      width: 260px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 0; /* Prevent any bottom margin that might cause wrapping */
      position: relative;
      border-radius: 10px;
    }

    .video-card:hover {
      transform: translateY(-5px);
    }
    
    /* Active video card styling */
    .video-card.active {
      padding: 1rem;
      box-shadow: 0 0 0 3px var(--primary-color, #2196f3);
      z-index: 2;
      transform: scale(1.05);
    }
    
    /* Prevent hover transform from stacking with active transform */
    .video-card.active:hover {
      transform: scale(1.05);
    }
    
    .video-card.active .video-thumbnail-box {
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
    }
    
    .video-card.active:after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 8px solid transparent;
      border-right: 8px solid transparent;
      border-bottom: 8px solid var(--primary-color, #2196f3);
      display: none;
    }
    
    @media (min-width: 768px) {
      .video-card.active:after {
        display: block;
      }
    }

    .video-thumbnail-box {
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      position: relative;
      aspect-ratio: 16/9;
    }

    .video-thumbnail {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: transform 0.3s ease;
    }

    .video-card:hover .video-thumbnail {
      transform: scale(1.05);
    }

    .play-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 3rem;
      transition: all 0.3s ease;
      opacity: 0.8;
      background-color: rgba(0, 0, 0, 0.3);
      border-radius: 50%;
      width: 70px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .video-card:hover .play-button {
      opacity: 1;
      background-color: var(--primary-color);
    }

    .video-title {
      margin-top: 12px;
      font-weight: 500;
      line-height: 1.4;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }

    .video-nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: white;
      border: none;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      z-index: 5;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      opacity: 1;
      visibility: visible;
      transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
    }

    .video-nav-btn:hover {
      background-color: #f8f8f8;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
    
    /* Global hidden class for all navigation buttons */
    .hidden,
    .video-nav-btn.hidden,
    .slider-nav.hidden,
    .overlay-nav.hidden {
      opacity: 0 !important;
      visibility: hidden !important;
      pointer-events: none !important;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .video-prev-btn {
      left: 5px;
    }

    .video-next-btn {
      right: 5px;
    }

    .rtl-flip {
      transform: scaleX(1);
    }

    body[dir="rtl"] .rtl-flip {
      transform: scaleX(-1);
    }
    
    /* Fix arrow positions and appearance in RTL mode */
    body[dir="rtl"] .video-prev-btn {
      transform: scaleX(-1);
      left: auto;
      right: 5px;
    }
    
    body[dir="rtl"] .video-next-btn {
      right: auto;
      left: 5px;
    }
    
    body[dir="rtl"] .slider-prev {
      left: auto;
      right: 5px;
    }
    
    body[dir="rtl"] .slider-next {
      right: auto;
      left: 5px;
    }
    
    /* Fix the arrows to ensure they point in the correct direction in RTL */
    body[dir="rtl"] .video-prev-btn .rtl-flip,
    body[dir="rtl"] .slider-prev .rtl-flip {
      transform: scaleX(1); /* Right button (prev in RTL) should point right */
    }
    
    body[dir="rtl"] .video-next-btn .rtl-flip,
    body[dir="rtl"] .slider-next .rtl-flip {
      transform: scaleX(-1); /* Left button (next in RTL) should point left */
    }

    /* Video Modal Styles */
    .video-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .video-modal-content {
      position: relative;
      width: 80%;
      max-width: 900px;
      margin: 50px auto;
      background-color: black;
      border-radius: 10px;
      overflow: hidden;
    }

    .video-container {
      position: relative;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      height: 0;
      overflow: hidden;
    }

    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }

    .video-modal-close {
      position: absolute;
      top: 10px;
      right: 15px;
      color: white;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      z-index: 5;
    }

    /* Dark Mode Styles */
    .dark-mode .video-nav-btn {
      background-color: var(--primary-color);
      color: var(--text-primary);
    }

    .dark-mode .video-nav-btn:hover {
      background-color: var(--background-secondary);
    }

    .dark-mode .video-title {
      color: var(--text-primary);
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .video-slider-container {
        padding: 0 40px;
      }
      
      .video-card {
        flex: 0 0 200px;
        width: 200px;
      }
      
      .play-button {
        font-size: 2rem;
        width: 50px;
        height: 50px;
      }
    }
  </style>

  <script>
    // Video slider navigation
    document.addEventListener('DOMContentLoaded', function() {
      const videoTrack = document.querySelector('.video-slider-track');
      const prevButton = document.querySelector('.video-prev-btn');
      const nextButton = document.querySelector('.video-next-btn');
      
      // Ensure buttons are visible by default until we can check them
      if (prevButton) {
        prevButton.classList.remove('hidden');
        prevButton.style.opacity = "1";
        prevButton.style.visibility = "visible";
      }
      
      if (nextButton) {
        nextButton.classList.remove('hidden');
        nextButton.style.opacity = "1";
        nextButton.style.visibility = "visible";
      }
      
      if (videoTrack && prevButton && nextButton) {
        // Set scroll amount to slide one video card at a time
        const scrollAmount = 280; // Card width + gap
        
        // Initialize global position tracker
        window.currentVideoPosition = 0;
        
        // Function to check if page is in RTL mode
        function isRTLMode() {
          return document.dir === 'rtl' || document.body.getAttribute('dir') === 'rtl';
        }
        
        // Function to scroll videos that handles RTL mode
        function scrollVideos(direction) {
          const isRtl = isRTLMode();
          // For RTL, we do NOT reverse the logical direction, but the visual transform will be opposite
          const videoCards = videoTrack.querySelectorAll('.video-card');
          const containerWidth = videoTrack.parentElement.offsetWidth;
          const trackWidth = videoTrack.scrollWidth;
          const maxScroll = Math.max(0, trackWidth - containerWidth);
          
          // Update current position - use the global tracker
          window.currentVideoPosition = window.currentVideoPosition || 0;
          window.currentVideoPosition += (direction * scrollAmount);
          
          // Apply boundary limits
          if (window.currentVideoPosition < 0) window.currentVideoPosition = 0;
          if (window.currentVideoPosition > maxScroll) window.currentVideoPosition = maxScroll;
          
          // Apply transform for smooth sliding
          // For RTL, we invert the sign of the transform
          const translateValue = isRtl ? window.currentVideoPosition : -window.currentVideoPosition;
          videoTrack.style.transform = `translateX(${translateValue}px)`;
          
          console.log(`Direction: ${direction}, RTL: ${isRtl}, Position: ${window.currentVideoPosition}, Transform: ${translateValue}px`);
        }
        
        // Function to check if there are more cards to scroll
        function updateButtonVisibility() {
          const containerWidth = videoTrack.parentElement.offsetWidth;
          const trackWidth = videoTrack.scrollWidth;
          const isRtl = isRTLMode();
          
          console.log("Video slider: Container width =", containerWidth, "Track width =", trackWidth, "Current position =", window.currentVideoPosition, "RTL mode:", isRtl);
          
          // In RTL mode, we don't swap the buttons logically - we keep the same button references
          // but the arrow appearance is flipped via CSS
          
          // Only show prev button if not at the start
          if (window.currentVideoPosition <= 0) {
            prevButton.classList.add('hidden');
            prevButton.style.opacity = "0";
            prevButton.style.visibility = "hidden";
          } else {
            prevButton.classList.remove('hidden');
            prevButton.style.opacity = "1";
            prevButton.style.visibility = "visible";
          }
          
          // Only show next button if not at the end
          if (window.currentVideoPosition >= trackWidth - containerWidth) {
            nextButton.classList.add('hidden');
            nextButton.style.opacity = "0";
            nextButton.style.visibility = "hidden";
          } else {
            nextButton.classList.remove('hidden');
            nextButton.style.opacity = "1";
            nextButton.style.visibility = "visible";
          }
        }
        
        // Button click handlers
        prevButton.addEventListener('click', function() {
          scrollVideos(-1);
          updateButtonVisibility();
        });
        
        nextButton.addEventListener('click', function() {
          scrollVideos(1);
          updateButtonVisibility();
        });
        
        // Update on language change
        const langToggle = document.getElementById('chklang');
        if (langToggle) {
          langToggle.addEventListener('change', function() {
            // Reset position on language change to avoid confusion
            setTimeout(() => {
              window.currentVideoPosition = 0;
              videoTrack.style.transform = 'translateX(0)';
              updateButtonVisibility();
            }, 50);
          });
        }
        
        // Handle window resize
        window.addEventListener('resize', function() {
          // Reset position on window resize
          window.currentVideoPosition = 0;
          videoTrack.style.transform = 'translateX(0)';
          updateButtonVisibility();
        });
        
        // Initial button visibility check - with delay to ensure DOM calculations are accurate
        setTimeout(() => {
          console.log("Running initial video slider button visibility check");
          updateButtonVisibility();
        }, 300);
      }
    });
  </script>


  </script>

  <style>
    /* Content Filter Bar Styles */
    .content-filter-bar {
      display: flex;
      flex-wrap: wrap;
      justify-content: center !important;
      gap: 10px;
      margin-bottom: 25px;
      padding-block: 4rem 1rem;
      border-bottom: 2px solid #eee;

    }
    
    .filter-btn {
      padding: 8px 18px;
      border: 2px solid #eee;
      background-color: #f9f9f9;
      color: #333;
      border-radius: 5px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .filter-btn:hover {
      border-color: var(--primary-color, #2196f3);
    }
    
    .filter-btn.active {
      background-color: var(--primary-color, #2196f3);
      color: white;
      border-color: var(--primary-color, #2196f3);
    }
    
    .dark-mode .filter-btn {
      background-color: var(--background-secondary);
      color: var(--text-primary);
      border-color: var(--border-color);
    }
    
    .dark-mode .filter-btn:hover {
      border-color: var(--primary-color, #2196f3);
    }

    .dark-mode .filter-btn.active {
      background-color: var(--primary-color, #2196f3);
      color: white;
      border-color: var(--primary-color, #2196f3);
    }
    
    .hidden-content {
      display: none;
    }
    
    /* Smooth transition for content visibility */
    [data-content-type] {
      transition: opacity 0.3s ease;
    }
    
    .fade-out {
      opacity: 0;
    }
    
    .fade-in {
      opacity: 1;
    }
    
    @media (max-width: 768px) {
      .content-filter-bar {
        justify-content: flex-start;
        overflow-x: auto;
        padding-bottom: 10px;
        margin-bottom: 15px;
      }
    }
    
    /* Enhanced Description Section Styles */
    .image-description {
      background-color: #f9f9f9;
      border-radius: 10px;
      padding: 25px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
    }
    
    .dark-mode .image-description {
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
    }
    
    .description-title {
      font-size: 1.6rem;
      color: var(--primary-color, #2196f3);
      margin-bottom: 20px;
      position: relative;
      display: inline-block;
    }
    
    .description-title:after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      right: 0;
      height: 3px;
      background-color: var(--primary-color, #2196f3);
      border-radius: 3px;
    }
    
    [dir="rtl"] .description-title:after {
      right: 0;
      left: 0;
    }
    
    .description-content {
      font-size: 1rem;
      line-height: 1.6;
      color: #444;
      margin-bottom: 25px;
    }
    
    .dark-mode .description-content {
      color: #ddd;
    }
    
    .achievement-details {
      display: flex;
      flex-direction: column;
      gap: 12px;
      border-top: 1px solid #eee;
      padding-top: 20px;
    }
    
    .dark-mode .achievement-details {
      border-color: #444;
    }
    
    .detail-item {
      display: flex;
      align-items: baseline;
    }
    
    .detail-label {
      font-weight: 600;
      color: #555;
      width: 100px;
    }
    
    .dark-mode .detail-label {
      color: #ccc;
    }
    
    .detail-value {
      color: #333;
    }
    
    .dark-mode .detail-value {
      color: #f0f0f0;
    }
    
    /* Enhanced News Links Styles */
    #newsLinksSection {
      padding: 30px;
      margin: 30px auto;
      max-width: 900px;
      background-color: #f9f9f9;
      border-radius: 10px;
      box-shadow: 0 3px 15px var(--shadow-color);
    }
    
    .dark-mode #newsLinksSection {
      background-color: var(--background-secondary);
      box-shadow: 0 3px 15px var(--shadow-color);
    }
    
    #newsLinksSection .sectionTitle {
      text-align: center;
      color: var(--primary-color, #2196f3);
      margin-bottom: 25px;
      font-size: 1.8rem;
    }
    
    .newsLinks {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .newsLinks li {
      margin-bottom: 15px;
      padding: 15px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    
    .dark-mode .newsLinks li {
      background-color: #333;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }
    
    .newsLinks li:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    .newsLinks a {
      display: flex;
      align-items: center;
      color: #333;
      text-decoration: none;
      font-weight: 500;
    }
    
    .dark-mode .newsLinks a {
      color: #f0f0f0;
    }
    
    .news-icon {
      color: var(--primary-color, #2196f3);
      margin-inline-end: 15px;
      font-size: 1.2rem;
      min-width: 25px;
    }
    
    /* RTL-specific fixes */
    [dir="rtl"] .newsLinks a {
      text-align: right;
    }
    
    [dir="rtl"] .news-icon {
      margin-left: 15px;
      margin-right: 0;
    }
    
    /* Slide Indicators Styles */
    .slide-indicators-container {
      width: 100%;
      display: flex;
      justify-content: center;
      margin-top: 15px;
    }
    
    .slide-indicators {
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 10px 0;
    }
    
    .indicator-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: #ccc;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .indicator-dot:hover {
      background-color: #999;
    }
    
    .indicator-dot.active {
      background-color: var(--primary-color, #2196f3);
      transform: scale(1.2);
    }
    
    .dark-mode .indicator-dot {
      background-color: #555;
    }
    
    .dark-mode .indicator-dot:hover {
      background-color: #777;
    }
    
    .dark-mode .indicator-dot.active {
      background-color: var(--primary-color, #2196f3);
    }
    
    @media (max-width: 768px) {
      .slide-indicators {
        gap: 6px;
      }
      
      .indicator-dot {
        width: 8px;
        height: 8px;
      }
    }
  </style>

  <script>
    // Initialize slide indicators for both image and video sliders
    document.addEventListener('DOMContentLoaded', function() {
      initializeImageIndicators();
      initializeVideoIndicators();
    });
    
    // Generate and initialize image indicators
    function initializeImageIndicators() {
      const thumbnails = document.querySelectorAll('.thumbnail');
      const indicatorsContainer = document.querySelector('.image-indicators');
      
      if (!thumbnails.length || !indicatorsContainer) return;
      
      // Clear any existing indicators
      indicatorsContainer.innerHTML = '';
      
      // Create an indicator dot for each thumbnail
      thumbnails.forEach((thumb, index) => {
        const indicator = document.createElement('div');
        indicator.classList.add('indicator-dot');
        
        // Set first indicator as active by default
        if (index === 0) {
          indicator.classList.add('active');
        }
        
        // Add click event to change image
        indicator.addEventListener('click', function() {
          changeImage(thumb.src);
        });
        
        indicatorsContainer.appendChild(indicator);
      });
    }
    
    // Generate and initialize video indicators
    function initializeVideoIndicators() {
      const videoCards = document.querySelectorAll('.video-card');
      const indicatorsContainer = document.querySelector('.video-indicators');
      
      if (!videoCards.length || !indicatorsContainer) return;
      
      // Clear any existing indicators
      indicatorsContainer.innerHTML = '';
      
      // Create an indicator dot for each video
      videoCards.forEach((card, index) => {
        const indicator = document.createElement('div');
        indicator.classList.add('indicator-dot');
        
        // Set first indicator as active by default
        if (index === 0) {
          indicator.classList.add('active');
        }
        
        // Add click event to play video
        indicator.addEventListener('click', function() {
          playInMainPlayer(card);
          updateVideoIndicators(index);
        });
        
        indicatorsContainer.appendChild(indicator);
      });
    }
    
    // Update indicator active state for images
    function updateImageIndicators(index) {
      const indicators = document.querySelectorAll('.image-indicators .indicator-dot');
      
      if (!indicators.length) return;
      
      // Remove active class from all indicators
      indicators.forEach(dot => dot.classList.remove('active'));
      
      // Add active class to current indicator
      if (indicators[index]) {
        indicators[index].classList.add('active');
      }
    }
    
    // Update indicator active state for videos
    function updateVideoIndicators(index) {
      const indicators = document.querySelectorAll('.video-indicators .indicator-dot');
      
      if (!indicators.length) return;
      
      // Remove active class from all indicators
      indicators.forEach(dot => dot.classList.remove('active'));
      
      // Add active class to current indicator
      if (indicators[index]) {
        indicators[index].classList.add('active');
      }
    }
    
    // Thumbnail slider functionality
  </script>
</body>

</html>